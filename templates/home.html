{% extends "components/layout.html" %} {% block content %}

<style>
  {% include "home.css" %}
</style>

<!-- <link rel="preload" as="image" href="/assets/search-img.webp" /> -->

<body>
  <div class="home-content">
    <div class="search-content">
      <h1 class="search-title">{{ tr.HOME.search_title }}</h1>
      <form
        class="search-form"
        hx-get="/search"
        hx-params="*"
        hx-push-url="true"
        hx-boost="true"
        hx-swap="outerHTML"
        hx-trigger="submit[search(this)]"
        hx-target="body"
      >
        <img src="/assets/icons/search.svg" class="search-icon" alt="Search" />
        <input
          type="text"
          name="breed"
          class="search-input"
          placeholder="{{ tr.HOME.search_input }}"
        />
        <button
          type="button"
          class="search-button"
          onmousedown="toggleFilters()"
        >
          <img
            src="/assets/icons/filter.svg"
            width="18"
            height="12"
            alt="Filter"
          />
          {{ tr.HOME.filter }}
        </button>
        <input
          type="submit"
          class="search-submit"
          value="{{ tr.HOME.search }}"
        />
      </form>
    </div>

    <!-- MOBILE FORM -->
    <form
      class="mobile-search-form"
      hx-get="/search"
      hx-params="*"
      hx-push-url="true"
      hx-boost="true"
      hx-swap="outerHTML"
      hx-trigger="submit[search(this)]"
      hx-target="body"
    >
      <img src="/assets/icons/search.svg" class="search-icon" alt="Search" />
      <input
        type="text"
        name="breed"
        class="search-input"
        placeholder="{{ tr.HOME.search_input }}"
      />
      <button type="button" class="search-button" onmousedown="toggleFilters()">
        <img
          src="/assets/icons/filter.svg"
          width="18"
          height="12"
          alt="Filter"
        />
      </button>
      <input type="submit" class="search-submit" value="{{ tr.HOME.search }}" />
    </form>

    <!-- CATEGORIES -->
    <div class="categories-div">
      <p class="category">{{ tr.HOME.categories }}</p>

      <div class="images">
        <a
          role="button"
          hx-get="/search?animal=dog"
          hx-boost="true"
          hx-swap="outerHTML"
          hx-target="body"
          hx-push-url="true"
          hx-trigger="mousedown"
          class="image blurred-img"
          style="background-image: url(/assets/categories/dog-min.webp)"
        >
          <img src="/assets/categories/dog.webp" loading="lazy" alt="Dog" />
          <p>{{ tr.ANIMALS.dog }}</p>
        </a>
        <a
          role="button"
          hx-get="/search?animal=cat"
          hx-boost="true"
          hx-swap="outerHTML"
          hx-target="body"
          hx-push-url="true"
          hx-trigger="mousedown"
          class="image blurred-img"
          style="background-image: url(/assets/categories/cat-min.webp)"
        >
          <img src="/assets/categories/cat.webp" loading="lazy" alt="Cat" />
          <p>{{ tr.ANIMALS.cat }}</p>
        </a>
        <a
          role="button"
          hx-get="/search?animal=bird"
          hx-boost="true"
          hx-swap="outerHTML"
          hx-target="body"
          hx-push-url="true"
          hx-trigger="mousedown"
          class="image blurred-img"
          style="background-image: url(/assets/categories/bird-min.webp)"
        >
          <img src="/assets/categories/bird.webp" loading="lazy" alt="Bird" />
          <p>{{ tr.ANIMALS.bird }}</p>
        </a>
        <a
          role="button"
          hx-get="/search?animal=fish"
          hx-boost="true"
          hx-swap="outerHTML"
          hx-target="body"
          hx-push-url="true"
          hx-trigger="mousedown"
          class="image blurred-img"
          style="background-image: url(/assets/categories/fish-min.webp)"
        >
          <img src="/assets/categories/fish.webp" loading="lazy" alt="Fish" />
          <p>{{ tr.ANIMALS.fish }}</p>
        </a>
        <a
          role="button"
          hx-get="/search?animal=other"
          hx-boost="true"
          hx-swap="outerHTML"
          hx-target="body"
          hx-push-url="true"
          hx-trigger="mousedown"
          class="image blurred-img"
          style="background-image: url(/assets/categories/other-min.webp)"
        >
          <img src="/assets/categories/other.webp" loading="lazy" alt="Other" />
          <p>{{ tr.ANIMALS.other }}</p>
        </a>
      </div>
    </div>

    <div class="posts-div">
      <div class="posts-title">
        <p class="category">{{ tr.HOME.posts }}</p>
        <a
          role="button"
          hx-get="/search?animal=all"
          hx-boost="true"
          hx-swap="outerHTML"
          hx-target="body"
          hx-push-url="true"
          hx-trigger="mousedown"
          class="all-posts"
          >{{ tr.HOME.all_posts }}</a
        >
      </div>

      <div
        class="posts"
        hx-get="/api/load-posts"
        hx-trigger="revealed"
        hx-swap="innerHTML"
        hx-on::after-swap="this.classList.add('fade-in')"
      >
        {% for i in range(end=4) %}
        <div>
          <div class="placeholder-box"></div>
        </div>

        {% endfor %}
      </div>
    </div>

    <div class="posts-div">
      <p class="category">{{ tr.HOME.features }}</p>

      <div class="features-div">
        <div class="features">
          <!-- SELLING -->
          <div class="feature">
            <img src="/assets/icons/selling.svg" alt="Selling" />
            <div class="feature-details">
              <h1>იყიდება</h1>
              <p>
                მიეცით თქვენს გუნდს ავტონომია, რომელიც მათ სჭირდებათ იმდენ
                ბარათზე წვდომით.
              </p>
            </div>
          </div>
          <div class="line"></div>
          <!-- ADOPTING -->
          <div class="feature">
            <img src="/assets/icons/adopting.svg" alt="Selling" />
            <div class="feature-details">
              <h1>იყიდება</h1>
              <p>
                მიეცით თქვენს გუნდს ავტონომია, რომელიც მათ სჭირდებათ იმდენ
                ბარათზე წვდომით.
              </p>
            </div>
          </div>
          <div class="line"></div>
          <!-- MEETING -->
          <div class="feature">
            <img src="/assets/icons/meeting.svg" alt="Selling" />
            <div class="feature-details">
              <h1>იყიდება</h1>
              <p>
                მიეცით თქვენს გუნდს ავტონომია, რომელიც მათ სჭირდებათ იმდენ
                ბარათზე წვდომით.
              </p>
            </div>
          </div>
        </div>
        <img
          src="/assets/features-img.webp"
          class="features-img"
          alt="Features"
          loading="lazy"
        />
      </div>
    </div>
  </div>
  <!-- FILTERS MODAL -->
  {% include "components/filters.html" %}

  <script async src="/static/js/home.js"></script>
</body>
{% endblock content %}
