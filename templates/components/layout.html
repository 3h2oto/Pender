<!doctype html>
<html lang="en">
  <head>
    {% include "components/imports.html" %}
  </head>
  <body>
    <!-- NAVBAR -->
    {% include "components/navbar.html" %}

    <!-- PAWS -->
    {% include "components/paws.html" %}

    <!-- prettier-ignore -->
    <div class="main-content">
    {% block content %}{% endblock content %}
    </div>

    {% if route not in ['/register', '/login', '/upload', '/reset-password'] %}
    <a
      role="button"
      hx-get="/upload"
      hx-boost="true"
      hx-swap="outerHTML"
      hx-target="body"
      hx-push-url="true"
      hx-trigger="mousedown"
      class="plus-btn"
      aria-label="Upload"
    >
      <img src="/assets/icons/plus.svg" alt="Plus Button" />
    </a>
    {% endif %}

    <!-- prettier-ignore -->
    {% include "components/footer.html" %}

    <script>
      var blurredImageDiv = document.querySelector(".blurred-img");
      var img = blurredImageDiv.querySelector("img");
      function loaded() {
        blurredImageDiv.classList.add("loaded");
        blurredImageDiv.style.filter = "blur(0px)";
      }

      if (img.complete) {
        loaded();
      } else {
        img.addEventListener("load", loaded);
      }
    </script>
    <script src="/static/js/navbar.js"></script>
  </body>
</html>
