{% extends "components/layout.html" %} {% block content %}
<style>
  {% include "profile.css" %}
</style>

<body>
  <div class="profile-main">
    <div class="selector-div">
      <p
        class="selector-item active-selector profile-selector"
        onmousedown="changeTab(this, 'details')"
      >
        <img src="/assets/icons/user.svg" alt="User" />
        {{ tr.NAV.profile }}
      </p>
      <p
        class="selector-item posts-selector"
        onmousedown="changeTab(this, 'posts')"
      >
        <img
          src="/assets/icons/picture.svg"
          width="18"
          height="18"
          alt="User"
        />
        {{ tr.PROFILE.posts }}
      </p>
    </div>
    <div class="details-div">
      <h1>{{ tr.PROFILE.edit_details }}</h1>
      <p>{{ tr.PROFILE.title_helper }}</p>
      <form
        hx-post="/api/edit-profile"
        hx-trigger="submit"
        hx-target=".msg"
        class="details-form"
      >
        <!-- NAME INPUT -->
        <div class="input-div">
          <label for="name">{{ tr.AUTH.name }}</label>
          <img
            src="/assets/icons/user.svg"
            class="profile-input-icon"
            alt="User"
          />
          <input
            type="text"
            name="name"
            value="{{ claims.name }}"
            aria-label="Name"
          />
        </div>

        <!-- EMAIL INPUT -->
        <div class="input-div">
          <label for="email">{{ tr.AUTH.email }}</label>
          <img
            src="/assets/icons/email.svg"
            class="profile-input-icon"
            alt="Email"
          />
          <input
            type="text"
            name="email"
            value="{{ claims.email }}"
            aria-label="Email"
          />
        </div>

        <!-- PHONE INPUT -->
        <div class="input-div">
          <label for="phone">{{ tr.AUTH.phone }}</label>
          <img
            src="/assets/icons/phone.svg"
            class="profile-input-icon"
            alt="Phone"
          />
          <input
            type="text"
            name="phone"
            value="{{ claims.phone }}"
            aria-label="Phone"
          />
        </div>

        <!-- CITY INPUT -->
        <div class="input-div">
          <label for="city">{{ tr.AUTH.city }}</label>
          <img
            src="/assets/icons/location.svg"
            class="profile-input-icon"
            alt="City"
          />
          {% include "components/cities.html" %}
        </div>

        <!-- FACEBOOK INPUT -->
        <div class="input-div">
          <label for="facebook">{{ tr.PROFILE.facebook }}</label>
          <img
            src="/assets/icons/facebook.svg"
            class="profile-input-icon"
            alt="Facebook"
          />

          <!-- prettier-ignore -->
          <input type="text" name="facebook" 
            {% if claims.facebook != ' ' and claims.facebook != '' %}
            value="{{ claims.facebook }}" 
            {% else %}
            placeholder="{{ tr.PROFILE.facebook_ex }}"
            {% endif %}
          />
        </div>

        <div class="profile-line"></div>

        <div class="final-actions">
          <input
            hx-get="/profile#"
            hx-target="body"
            hx-swap="outerHTML"
            type="button"
            class="save-btn cancel"
            value="{{ tr.PROFILE.cancel }}"
          />

          <input
            type="submit"
            onclick="triggerToast()"
            class="save-btn"
            value="{{ tr.PROFILE.save_changes }}"
          />
        </div>

        <div class="msg"></div>
        <input type="hidden" name="id" value="{{claims.id}}" />
        <input type="hidden" name="password" value="" />
      </form>
    </div>
    <div class="posts-div hide-tab">Test</div>
  </div>
  {% include "components/toast.html" %}

  <script src="/static/js/profile.js"></script>
</body>
{% endblock content %}
