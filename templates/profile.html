{% extends "components/layout.html" %} {% block content %}
<style>
  {% include "profile.css" %}
</style>

<body>
  <div class="profile-main">
    <div class="selector-div">
      <p class="selector-item active-selector">
        <img src="/assets/icons/user.svg" alt="User" />
        {{ tr.NAV.profile }}
      </p>
      <p class="selector-item">
        <img
          src="/assets/icons/picture.svg"
          width="18"
          height="18"
          alt="User"
        />
        {{ tr.PROFILE.posts }}
      </p>
    </div>
    <div class="details-div">
      <h1>{{ tr.PROFILE.edit_details }}</h1>
      <p>{{ tr.PROFILE.title_helper }}</p>
      <form
        hx-post="/api/edit-profile"
        hx-trigger="submit"
        hx-swap="none"
        class="details-form"
      >
        <!-- NAME INPUT -->
        <div class="input-div">
          <label for="name">{{ tr.AUTH.name }}</label>
          <img
            src="/assets/icons/user.svg"
            class="profile-input-icon"
            alt="User"
          />
          <input type="text" name="name" value="{{ claims.name }}" />
        </div>

        <!-- EMAIL INPUT -->
        <div class="input-div">
          <label for="email">{{ tr.AUTH.email }}</label>
          <img
            src="/assets/icons/email.svg"
            class="profile-input-icon"
            alt="Email"
          />
          <input type="text" name="email" value="{{ claims.email }}" />
        </div>

        <!-- PHONE INPUT -->
        <div class="input-div">
          <label for="phone">{{ tr.AUTH.phone }}</label>
          <img
            src="/assets/icons/phone.svg"
            class="profile-input-icon"
            alt="Phone"
          />
          <input type="text" name="phone" value="{{ claims.phone }}" />
        </div>

        <!-- CITY INPUT -->
        <div class="input-div">
          <label for="city">{{ tr.AUTH.city }}</label>
          <img
            src="/assets/icons/location.svg"
            class="profile-input-icon"
            alt="City"
          />
          {% include "components/cities.html" %}
        </div>

        <!-- FACEBOOK INPUT -->
        <div class="input-div">
          <label for="facebook">{{ tr.PROFILE.facebook }}</label>
          <img
            src="/assets/icons/facebook.svg"
            class="profile-input-icon"
            alt="Facebook"
          />

          <!-- prettier-ignore -->
          <input type="text" name="facebook" 
            {% if claims.facebook != ' ' and claims.facebook != '' %}
            value="{{ claims.facebook }}" 
            {% else %}
            placeholder="{{ tr.PROFILE.facebook_ex }}"
            {% endif %}
          />
        </div>

        <div class="profile-line"></div>

        <div class="final-actions">
          <input
            hx-get="/profile#"
            hx-target="body"
            hx-swap="outerHTML"
            type="button"
            class="save-btn cancel"
            value="{{ tr.PROFILE.cancel }}"
          />

          <input
            type="submit"
            onclick="triggerGlow()"
            class="save-btn"
            value="{{ tr.PROFILE.save_changes }}"
          />
        </div>

        <input type="hidden" name="id" value="{{claims.id}}" />
        <input type="hidden" name="password" value="" />
      </form>
    </div>
  </div>
  <script>
    const box = document.querySelector(".details-div");

    // Add the 'success' class to trigger the animation
    box.classList.add("success");

    // Remove the 'success' class after a certain duration (if needed)
    setTimeout(() => {
      box.classList.remove("success");
    }, 3000); // Remove the class after 3 seconds
  </script>
  <script src="/static/js/profile.js"></script>
</body>
{% endblock content %}
